<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
    </title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
    <style>
        /* App custom styles */
    </style>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js">
    </script>
	<script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js">
    </script>

</head>
<body>
    <div data-role="page" id="page1">
        <div data-theme="a" data-role="header">
            <h3>
                Darido
            </h3>
        </div>
        <div id="content" data-role="content">


	    </div>
    </div>
	
	<script>
	$.getJSON('http://darido.cloudfoundry.com/events', function(data) {
	  var items = [];
	  items.push('<li data-role="list-divider" role="heading">Events</li>');
	  $.each(data, function() {
		var darido = this;
		console.log("next event ..");
	    items.push('<li data-theme="c"><a href="#page1" data-transition="slide">' 
		+ darido.eventDay + " : " + darido.title  
		+  '</a></li>');
	  });

	  $('<ul />', {
		'id' : 'myList',
		'data-divider-theme' : 'b',
		'data-inset' : 'true',
		'data-role' :"listview",
	    html: items.join('')
	  }).appendTo('#content');
	
	$("#myList").listview();
	//$("#myList").listview('refresh');
	
	});
	 
	
	</script>
    
</body>
</html>

